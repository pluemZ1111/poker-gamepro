<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Poker: Royal Flush Edition</title>
    <style>
        :root { --gold: #ffd700; --felt: radial-gradient(circle, #1a472a 0%, #0d2b1a 100%); --wood: #3e2723; }
        body { background: #000; color: white; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; display: flex; flex-direction: column; align-items: center; height: 100vh; }
        
        /* ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; text-align: center; }
        .box { background: var(--wood); padding: 30px; border-radius: 20px; border: 3px solid var(--gold); max-width: 500px; box-shadow: 0 0 50px rgba(255,215,0,0.3); }
        
        /* ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô */
        .rules-box { text-align: left; font-size: 0.85rem; background: rgba(0,0,0,0.4); padding: 15px; border-radius: 10px; margin: 15px 0; height: 200px; overflow-y: auto; line-height: 1.6; }
        .rules-box b { color: var(--gold); }

        .hud { width: 100%; background: #111; padding: 15px 0; display: flex; justify-content: center; gap: 30px; border-bottom: 3px solid var(--wood); font-size: 1.1rem; }
        .table { width: 95%; max-width: 850px; height: 380px; background: var(--felt); border: 12px solid var(--wood); border-radius: 200px; display: flex; flex-direction: column; align-items: center; justify-content: space-around; position: relative; box-shadow: inset 0 0 100px #000; margin-top: 20px; }
        .card-row { display: flex; gap: 8px; height: 90px; }
        .card { width: 65px; height: 90px; background: white; color: black; border-radius: 8px; font-size: 1.3rem; font-weight: bold; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 2px 4px 10px #000; }
        .card.red { color: #d32f2f; }
        .card.back { background: linear-gradient(135deg, #b71c1c 0%, #4a0000 100%); border: 1px solid #fff; }
        
        .control-panel { background: #1a1a1a; width: 100%; padding: 20px 0; border-top: 3px solid var(--wood); position: fixed; bottom: 0; display: flex; flex-direction: column; align-items: center; gap: 10px; }
        .btn { padding: 10px 20px; border-radius: 30px; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: 0.2s; }
        .btn-gold { background: var(--gold); color: #000; }
        .btn-red { background: #f44336; color: white; }
    </style>
</head>
<body>

<audio id="bgm" loop><source src="pinggggg.mp3" type="audio/mpeg"></audio>

<div id="start-screen" class="overlay">
    <div class="box">
        <h2 style="color: var(--gold); margin-top: 0;">üèÜ GRAND POKER VIP</h2>
        
        <div class="rules-box">
            <b>üìú ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÑ‡∏û‡πà (‡∏à‡∏≤‡∏Å‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏õ‡πÄ‡∏•‡πá‡∏Å):</b><br>
            1. <b>Royal Flush:</b> 10-J-Q-K-A ‡∏î‡∏≠‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô<br>
            2. <b>Straight Flush:</b> ‡πÄ‡∏£‡∏µ‡∏¢‡∏á 5 ‡πÉ‡∏ö ‡∏î‡∏≠‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô<br>
            3. <b>Four of a Kind:</b> ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô 4 ‡πÉ‡∏ö<br>
            4. <b>Full House:</b> ‡∏ï‡∏≠‡∏á + ‡∏Ñ‡∏π‡πà<br>
            5. <b>Flush:</b> ‡∏î‡∏≠‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô 5 ‡πÉ‡∏ö<br>
            6. <b>Straight:</b> ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô 5 ‡πÉ‡∏ö (‡∏ï‡πà‡∏≤‡∏á‡∏î‡∏≠‡∏Å‡πÑ‡∏î‡πâ)<br>
            7. <b>Three of a Kind:</b> ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô 3 ‡πÉ‡∏ö (‡∏ï‡∏≠‡∏á)<br>
            8. <b>Two Pair:</b> ‡∏°‡∏µ 2 ‡∏Ñ‡∏π‡πà<br>
            9. <b>One Pair:</b> ‡∏°‡∏µ 1 ‡∏Ñ‡∏π‡πà<br>
            10. <b>High Card:</b> ‡πÑ‡∏û‡πà‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (A ‡∏Ñ‡∏∑‡∏≠‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î)
        </div>

        <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏ï‡πä‡∏∞‡∏û‡∏ô‡∏±‡∏ô:</p>
        <input type="text" id="username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..." style="padding: 10px; border-radius: 5px; border: none; width: 250px; text-align: center; font-size: 1rem;">
        <br><br>
        <button class="btn btn-gold" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô & ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏á MP3</button>
    </div>
</div>

<div class="hud">
    <div>üë§ ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: <b id="p-display">Guest</b></div>
    <div>üí∞ ‡∏ä‡∏¥‡∏õ: <b id="balance" style="color: var(--gold);">1000</b></div>
    <div>üçØ ‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏≠‡∏á‡∏Å‡∏•‡∏≤‡∏á: <b id="pot">0</b></div>
</div>

<div class="table">
    <div class="card-row" id="bot-hand"></div>
    <div id="status" style="font-weight: bold; color: var(--gold); font-size: 1.3rem; text-shadow: 2px 2px 4px #000;">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</div>
    <div class="card-row" id="community"></div>
    <div class="card-row" id="player-hand"></div>
</div>

<div class="control-panel">
    <div id="bet-ui" style="display:none; margin-bottom: 5px;">
        <span>‡∏•‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°: $</span>
        <input type="number" id="bet-amt" value="50" style="width: 70px; padding: 5px; border-radius: 5px;">
    </div>
    <div class="btn-group">
        <button id="btn-start" class="btn btn-gold" onclick="initRound()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏≤‡πÉ‡∏´‡∏°‡πà ($100)</button>
        <button id="btn-reset" class="btn btn-red" onclick="location.reload()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà‡∏´‡∏°‡∏î</button>
        
        <button id="btn-check" class="btn btn-gold" style="display:none; background:#2196f3; color:white;" onclick="play('check')">CHECK</button>
        <button id="btn-bet" class="btn btn-gold" style="display:none;" onclick="play('bet')">BET / CALL</button>
        <button id="btn-allin" class="btn btn-gold" style="display:none; background:#9c27b0; color:white;" onclick="play('allin')">ALL IN!</button>
        <button id="btn-fold" class="btn btn-red" style="display:none;" onclick="play('fold')">FOLD</button>
    </div>
</div>

<script>
    const RANKS = ["2","3","4","5","6","7","8","9","T","J","Q","K","A"];
    const SUITS = {'H':'‚ô•','D':'‚ô¶','C':'‚ô£','S':'‚ô†'};
    let bal = 1000, pot = 0, deck = [], pHand = [], bHand = [], comm = [], phase = 0;

    function startGame() {
        const n = document.getElementById('username').value;
        if(!n) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô!");
        document.getElementById('p-display').innerText = n;
        document.getElementById('start-screen').style.display = "none";
        // ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á MP3
        const bgm = document.getElementById('bgm');
        bgm.volume = 0.4;
        bgm.play().catch(() => console.log("Browser blocked auto-play"));
    }

    function initRound() {
        if(bal < 100) return alert("‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏û‡∏≠! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà");
        bal -= 100; pot = 200; phase = 0;
        deck = [];
        for(let r of RANKS) for(let s in SUITS) deck.push({r, s, v: RANKS.indexOf(r)});
        deck.sort(() => Math.random() - 0.5);
        
        pHand = [deck.pop(), deck.pop()];
        bHand = [deck.pop(), deck.pop()];
        comm = Array.from({length:5}, () => deck.pop());

        document.getElementById('player-hand').innerHTML = '';
        document.getElementById('bot-hand').innerHTML = '';
        document.getElementById('community').innerHTML = '';
        
        pHand.forEach(c => document.getElementById('player-hand').appendChild(draw(c)));
        bHand.forEach(() => document.getElementById('bot-hand').appendChild(draw(null, true)));
        
        updateUI(true);
        document.getElementById('status').innerText = "‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à: ‡∏´‡∏°‡∏≠‡∏ö ‡∏´‡∏£‡∏∑‡∏≠ ‡∏™‡∏π‡πâ?";
    }

    function draw(c, back = false) {
        const d = document.createElement('div');
        d.className = `card ${back ? 'back' : ('HD'.includes(c.s) ? 'red' : '')}`;
        if(!back) d.innerHTML = `<div>${c.r}</div><div>${SUITS[c.s]}</div>`;
        return d;
    }

    function play(type) {
        let a = 0;
        if(type === 'fold') { document.getElementById('status').innerText = "‡∏Ñ‡∏∏‡∏ì‡∏´‡∏°‡∏≠‡∏ö!"; return end(); }
        if(type === 'bet') { a = parseInt(document.getElementById('bet-amt').value); if(a > bal) a = bal; }
        if(type === 'allin') a = bal;
        
        bal -= a; pot += (a * 2);
        phase++;
        const area = document.getElementById('community');

        if(phase === 1) for(let i=0; i<3; i++) area.appendChild(draw(comm[i]));
        else if(phase === 2) area.appendChild(draw(comm[3]));
        else if(phase === 3) { area.appendChild(draw(comm[4])); showdown(); return; }
        
        updateUI(true);
    }

    function showdown() {
        document.getElementById('bot-hand').innerHTML = '';
        bHand.forEach(c => document.getElementById('bot-hand').appendChild(draw(c)));
        
        // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢ High Card + ‡∏™‡∏∏‡πà‡∏°‡∏ä‡∏∏‡∏î‡πÑ‡∏û‡πà
        const win = Math.random() > 0.5; 
        if(win) {
            bal += pot;
            document.getElementById('status').innerText = "üéâ ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏ô‡∏∞! ‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î";
        } else {
            document.getElementById('status').innerText = "üíÄ ‡∏ö‡∏≠‡∏ó‡∏ä‡∏ô‡∏∞! ‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏ß‡∏á";
        }
        end();
    }

    function end() { updateUI(false); }

    function updateUI(playing) {
        document.getElementById('balance').innerText = bal;
        document.getElementById('pot').innerText = pot;
        document.getElementById('btn-start').style.display = playing ? 'none' : 'inline-block';
        document.getElementById('btn-reset').style.display = playing ? 'none' : 'inline-block';
        ['check','bet','allin','fold'].forEach(id => {
            document.getElementById('btn-'+id).style.display = playing ? 'inline-block' : 'none';
        });
        document.getElementById('bet-ui').style.display = playing ? 'block' : 'none';
    }
</script>
</body>
</html>
